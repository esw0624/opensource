<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: default-legacy                 *-->
<!--*  Palette:                              *-->
<!--******************************************-->

<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math">
<section class="paragraphs"><h4 class="heading"><span class="title">Input and Output Redirection.</span></h4>
<div class="para"></div>
<div class="para">There are a number of ways one can create a new file. Let’s try some. First, use <code class="code-inline tex2jax_ignore">cd</code> to descend into one of your new directories if you are not already in one so that you are in an empty directory. Then let’s try the following commands:</div>
<pre class="code-block tex2jax_ignore">touch newfile1.txt
echo 'I love open source!' &gt; newfile2.txt
echo 'I really love open source!' &gt;&gt; newfile3.txt
ls
</pre>
<div class="para">You should now see three new files named <em class="emphasis">newfile1.txt</em>, <em class="emphasis">newfile2.txt</em>, and <em class="emphasis">newfile3.txt</em> respectively. This particular usage of the <code class="code-inline tex2jax_ignore">touch</code> command simply makes an empty file if no file by that name already exists in the directory. It is a niche use case for the command, but people use it this way with regularity. The intended purpose of the <code class="code-inline tex2jax_ignore">touch</code> changes the last accessed/modified date. Understanding the result of the first line we typed is pretty straightforward. The second and third lines that we typed require a bit more explanation. As we learned  above, the <code class="code-inline tex2jax_ignore">echo</code> command simply outputs (or echoes) the argument(s) to the terminal, but here the <code class="code-inline tex2jax_ignore">echo</code> command has been used in combination with output redirection into a file.</div>
<div class="para">
<dfn class="terminology">Output redirection</dfn> is a feature in the shell that allows the user to redirect the output of a command using <code class="code-inline tex2jax_ignore">&gt;</code> or <code class="code-inline tex2jax_ignore">&gt;&gt;</code>. Recall that the <code class="code-inline tex2jax_ignore">echo</code> command normally prints to the screen. What we did above in creating new files with the <code class="code-inline tex2jax_ignore">echo</code> command was to use output redirection to redirect the output of the command into a file of the specified name. So, the command <code class="code-inline tex2jax_ignore">echo 'I love open source!' &gt; newfile2.txt</code> redirected the output of the <code class="code-inline tex2jax_ignore">echo</code> command into the <em class="emphasis">newfile2.txt</em> file. Both <code class="code-inline tex2jax_ignore">&gt;</code> and <code class="code-inline tex2jax_ignore">&gt;&gt;</code> will create a <em class="emphasis">new</em> file with the provided name if one does not already exist. Note that the <code class="code-inline tex2jax_ignore">&gt;</code> is the output redirection operator used for <em class="emphasis">overwriting</em> a file that might or might not already exist, while the <code class="code-inline tex2jax_ignore">&gt;&gt;</code> is an output operator that <em class="emphasis">appends</em> the output to an existing file or creates a new one if one does not already exist.  So, <code class="code-inline tex2jax_ignore">&gt;</code> should be used judiciously! </div>
<div class="para">Let’s look at the contents of the files that we created. Let’s use <code class="code-inline tex2jax_ignore">cat</code> to see the file contents. Type the following one at a time:</div>
<pre class="code-block tex2jax_ignore">cat newfile1.txt
cat newfile2.txt
cat newfile3.txt
</pre>
<div class="para">You might be wondering why we are using a command called <code class="code-inline tex2jax_ignore">cat</code>. The <code class="code-inline tex2jax_ignore">cat</code> command, which stands for <em class="emphasis">concatenate</em>, is used to concatenate standard input (typically the keyboard) or file(s) to the standard output. Like the name suggests, you can also use the <code class="code-inline tex2jax_ignore">cat</code> command to concatenate files. For example, if you try:</div>
<pre class="code-block tex2jax_ignore">cat newfile2.txt newfile3.txt &gt; newfile1.txt
cat newfile1.txt
</pre>
<div class="para">You should see that <em class="emphasis">newfile1.txt</em> instead of being empty, now contains the concatenation of <em class="emphasis">newfile2.txt</em> and <em class="emphasis">newfile3.txt</em>
</div>
<div class="para">You can also use the <code class="code-inline tex2jax_ignore">cat</code> command in combination with output redirection to create a multi-line file. Try typing the following lines to create a new multi-line file named <em class="emphasis">newfile_multi.txt</em>:</div>
<pre class="code-block tex2jax_ignore">cat &gt; newfile_multi.txt
these
are
multiple
lines
</pre>
<div class="para">You can complete this command sequence by pressing <code class="code-inline tex2jax_ignore">Control+D</code> on your keyboard which will cause the new file to be closed. You should now have a new file called <em class="emphasis">newfile_multi.txt</em>.</div>
<div class="para">Analogous to output redirection, <dfn class="terminology">input redirection</dfn> in the  shell using <code class="code-inline tex2jax_ignore">&lt;</code> or <code class="code-inline tex2jax_ignore">&lt;&lt;</code> allows you to redirect the input of a command.  So, if we want the response from a command to be written to a file instead of to the terminal, we can use output redirection, but if we want the input to a command to come from a file instead of from the keyboard, we use input redirection. </div>
<div class="para">Let’s look at an example of input redirection using the  shell command <code class="code-inline tex2jax_ignore">wc</code>, which stands for <em class="emphasis">word count</em>. This a command that as the name suggests can be used for counting. However, it does more than count words! It actually provides the line count, the word count, and the character count in the file(s) specified in the file arguments. By default, it displays all this in four-columnar output with the file name in the final column.</div>
<div class="para">Let’s try the following:</div>
<pre class="code-block tex2jax_ignore">wc &lt; newfile2.txt
</pre>
<div class="para">The shell should reply with <code class="code-inline tex2jax_ignore">1  4 20 newfile2.txt</code> because  <em class="emphasis">newfile2.txt</em> contains ’I love open source!’ which is 1 line, 4 words, and 20 characters. If you only want to count the number of words, you could use the <code class="code-inline tex2jax_ignore">-w</code> flag to display only the word count as follows:</div>
<pre class="code-block tex2jax_ignore">wc -w  &lt; newfile2.txt
</pre>
<div class="para">Let’s practice with input and output redirection using a temporary file. Let’s redirect the output of the <code class="code-inline tex2jax_ignore">ls</code> command into a temporary file, and then use input redirection with <code class="code-inline tex2jax_ignore">wc -w</code> to get the word count of this file. (This is one way to count the number of files in your current directory.) Let’s try the following:</div>
<pre class="code-block tex2jax_ignore">ls &gt; temp.txt
wc -w &lt; temp.txt
</pre>
<div class="para">If you  are wondering if there is a better way than using a temporary file, there is. A <dfn class="terminology">pipe (|)</dfn> in the shell allows you to redirect (aka to pipe) the output of one command into the input of another command. Let’s see an example: </div>
<pre class="code-block tex2jax_ignore">ls | wc -w
</pre>
<div class="para">Try it! This is an improvement because it is faster and avoids the use of a temporary file.</div></section><span class="incontext"><a class="internal" href="sec_dev_basic_shell_commands.html#subsec-files_directories_privileges-11">in-context</a></span>
</body>
</html>
